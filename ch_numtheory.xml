<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="ch_numtheory">
  <title>Some Classic Number Theory</title>

  <section xml:id="section-numtheory-divcong">
    <title> Divisibility and Congruences </title>

    <subsection xml:id="section-numtheory-div">
      <title>The divisibility relation</title>


    <!-- the following is adapted from https://github.com/oscarlevin/discrete-book -->
    <exercise>
      <statement>
        <p>
          Prove that 6 divides <m>7^n - 1</m> for all <m>n \in \N</m>.
        </p>
      </statement>
      <solution>

        <proof>
          <p>
            Let <m>P(n)</m> be the statement <q>6 divides <m>7^n - 1</m>.</q> We will show <m>P(n)</m> is true for all <m>n \in \N</m>. First we establish the base case, <m>P(0)</m>. Since <m>7^0 - 1 = 0</m>, and <m>0</m> is a multiple of 6, <m>P(0)</m> is true. Now for the inductive case. Assume <m>P(k)</m> holds for an arbitrary <m>k \in \N</m>. That is, 6 divides <m>7^k - 1</m>, or in other words, <m>7^k - 1 = 6j</m> for some integer <m>j</m>. Now consider <m>7^{k+1} - 1</m>:
            <md>
              <mrow> 7^{k+1} - 1 ~ \amp = 7^{k+1} - 7 + 6 \amp \text{by cleverness:} -1 = -7 + 6</mrow>
              <mrow> \amp = 7(7^k - 1) + 6 \amp \text{factor out a 7 from the first two terms}</mrow>
              <mrow> \amp = 7(6j) + 6 \amp \text{by the inductive hypothesis}</mrow>
              <mrow> \amp = 6(7j + 1) \amp \text{factor out a 6}</mrow>
            </md>
          </p>

          <p>
            Therefore 6 divides <m>7^{k+1} - 1</m>, or in other words, <m>P(k+1)</m> is true. Therefore by the principle of mathematical induction, <m>P(n)</m> is true for all <m>n \in \N</m>.
          </p>
        </proof>

      </solution>
    </exercise>



    </subsection>

    <subsection xml:id="section-numtheory-cong">
      <title> Congruence </title>

      <definition>
        <statement>
          <p>
            We say that <term><m>a</m> is congruent to <m>b</m> modulo <m>n</m></term> if <me>n \divides (b-a)</me>
          </p>
        </statement>
      </definition>

      <note>
        <p>
          Since <m>n\divides (b-a)</m> is equivalent to the statement that there exists some integer <m>m</m> such that
          <md>
            <mrow> a-b &amp;= mn </mrow>
            <mrow> a &amp;= mn + b </mrow>
          </md>
          we can say that <m>a</m> is congruent to <m>b</m> modulo <m>n</m> if <m>a</m> and <m>b</m> have the same remainder when divided by <m>n</m>. 
          % TODO clean up this statement and provide a proof or indicate that a proof is needed.
        </p>
      </note>


      <!-- TODO include a proof by induction of the division algorithm by induction -->


    </subsection>
  </section>

  <xi:include href="./sec_numtheory_modularexp.xml"/>

  <section xml:id="section-numtheory-euclid">
    <title>The Euclidean Algorithm and Applications</title>

    <subsection xml:id="extended-euclidean-algorithm">
      <title>
        The Extended Euclidean Algorithm
      </title>


      <definition xml:id="def-bezout-coefficient">
        TODO
      </definition>
    </subsection>

  </section>


  <xi:include href="./sec_numtheory_encryption.xml"/>


</chapter>

